import{j as e,m as a,U as t,b as s,y as r,av as i,az as l,r as d,u as n,aA as c,d as o,e as x,ay as m,aB as y}from"./vendor-CNKhjeNv.js";import{u as g}from"./index-nCNqRPE8.js";const h=()=>{const{user:s,profile:r}=g();return e.jsxs(a.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm text-center border border-gray-50 dark:border-gray-700",children:[e.jsx(a.div,{whileHover:{scale:1.05},className:"w-20 h-20 rounded-full mx-auto mb-4 overflow-hidden ring-4 ring-blue-100 dark:ring-blue-900",children:r?.avatar_url?e.jsx("img",{src:r.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary-400 to-secondary-500 flex items-center justify-center",children:e.jsx(t,{size:32,className:"text-white"})})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-dark-50 mb-1",children:r?.display_name||s?.user_metadata?.full_name||"USMLE Student"}),e.jsx("p",{className:"text-gray-600 dark:text-dark-300 text-sm",children:r?.school_of_medicine||"USMLE Step 1 Candidate"}),e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx("span",{className:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-3 py-1 rounded-full text-sm font-medium",children:r?.achievement_grades?.name||"Beginner"})}),r?.countries&&e.jsxs("div",{className:"mt-2 flex items-center justify-center gap-2",children:[e.jsx("span",{className:"text-xl",children:r.countries.flag_emoji}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-dark-300",children:r.countries.name})]})]})},u=()=>{const{profile:t}=g(),l=[{icon:s,label:"Total Points",value:t?.total_points?.toLocaleString()||"0",color:"text-yellow-500"},{icon:r,label:"Overall Accuracy",value:(()=>{if(!t?.total_questions_answered||0===t.total_questions_answered)return"0%";const e=t.correct_answers/t.total_questions_answered*100;return`${Math.round(e)}%`})(),color:"text-blue-500"},{icon:i,label:"Study Time",value:(()=>{if(!t?.total_study_time_seconds)return"0h";return`${Math.round(t.total_study_time_seconds/3600*10)/10}h`})(),color:"text-green-500"}];return e.jsx(a.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"grid grid-cols-3 gap-4",children:l.map((t,s)=>e.jsxs(a.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3+.1*s},whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-card dark:shadow-card-dark text-center border border-gray-50 dark:border-gray-700",children:[e.jsx(t.icon,{size:24,className:`mx-auto mb-2 ${t.color}`}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-dark-50",children:t.value}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-dark-300",children:t.label})]},t.label))})},p=()=>e.jsxs(a.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-card dark:shadow-card-dark border border-gray-50 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(l,{size:20,className:"text-yellow-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-dark-50",children:"Achievements"})]}),e.jsx("div",{className:"space-y-3",children:[{title:"First Quiz",description:"Complete your first quiz",earned:!0},{title:"Perfect Score",description:"Get 100% on any quiz",earned:!0},{title:"Study Streak",description:"7 days in a row",earned:!1},{title:"Category Master",description:"Complete all questions in a category",earned:!1}].map((t,s)=>e.jsxs(a.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.6+.1*s},className:"flex items-center gap-3 p-3 rounded-lg "+(t.earned?"bg-green-50 border border-green-200":"bg-gray-50"),children:[e.jsx("div",{className:"w-3 h-3 rounded-full "+(t.earned?"bg-green-500":"bg-gray-300")}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium "+(t.earned?"text-green-800":"text-gray-600"),children:t.title}),e.jsx("p",{className:"text-sm "+(t.earned?"text-green-600":"text-gray-500"),children:t.description})]})]},t.title))})]}),b=()=>{const[t,s]=d.useState(!1),{signOut:r}=g(),i=n(),l=[{icon:o,label:"Notifications",enabled:!0},{icon:x,label:"Dark Mode",enabled:!1}];return e.jsxs(a.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8},className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-card dark:shadow-card-dark border border-gray-50 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(c,{size:20,className:"text-gray-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-dark-50",children:"Settings"})]}),e.jsxs("div",{className:"space-y-4",children:[l.map((t,s)=>e.jsxs(a.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.9+.1*s},className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(t.icon,{size:20,className:"text-gray-600 dark:text-dark-300"}),e.jsx("span",{className:"text-gray-800 dark:text-dark-50",children:t.label})]}),e.jsx(a.button,{whileTap:{scale:.95},className:"w-12 h-6 rounded-full transition-colors "+(t.enabled?"bg-blue-500":"bg-gray-300"),children:e.jsx(a.div,{className:"w-5 h-5 bg-white rounded-full shadow-sm",animate:{x:t.enabled?26:2},transition:{type:"spring",stiffness:300,damping:30}})})]},t.label)),e.jsxs(a.button,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:1.1},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full flex items-center gap-3 p-3 text-left hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors",children:[e.jsx(m,{size:20,className:"text-gray-600 dark:text-dark-300"}),e.jsx("span",{className:"text-gray-800 dark:text-dark-50",children:"More Settings"})]}),e.jsxs(a.button,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:1.2},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:async()=>{s(!0);try{await r(),i("/auth/welcome",{replace:!0})}catch(e){console.error("Sign out error:",e)}finally{s(!1)}},disabled:t,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors text-red-600 dark:text-red-400 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(y,{size:20}),e.jsx("span",{children:t?"Signing Out...":"Sign Out"})]})]})]})},j=()=>{const{user:s,profile:r}=g();return e.jsxs(a.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1},className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-card dark:shadow-card-dark border border-gray-50 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(t,{size:20,className:"text-gray-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-dark-50",children:"Account Information"})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-dark-300",children:"Email:"}),e.jsx("span",{className:"text-gray-800 dark:text-dark-50",children:s?.email})]}),r?.bio&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-dark-300",children:"Bio:"}),e.jsx("span",{className:"text-gray-800 dark:text-dark-50",children:r.bio})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-dark-300",children:"Member Since:"}),e.jsx("span",{className:"text-gray-800 dark:text-dark-50",children:new Date(s?.created_at).toLocaleDateString()})]})]})]})},f=()=>e.jsxs(a.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[e.jsx(h,{}),e.jsx(u,{}),e.jsx(p,{}),e.jsx(b,{}),e.jsx(j,{})]});export{f as default};
