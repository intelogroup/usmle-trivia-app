const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-_mdaUnBf.js","assets/vendor-ChsRwzkX.js","assets/useViewTransitions-CKQMAivl.js","assets/questionService-DCaLMc6P.js","assets/QuizTab-BP-rzihR.js","assets/enhancedQuestionService-CN-qEh-K.js","assets/Profile-CkkiX8vn.js","assets/Leaderboard-AJp4T9c2.js","assets/Learn-Bic8rdUJ.js","assets/QuickQuiz-DwdUi1Zh.js","assets/QuizError-DN33deu4.js","assets/TimedTest-HjQvV1Dl.js","assets/Results-D4mkTTQV.js","assets/CustomQuiz-DxTpGNrS.js","assets/BlockTest-DvgsLtus.js","assets/Login-DafoVzmx.js","assets/SignUp-BkbxS6YZ.js","assets/ForgotPassword-CcJJDbrS.js","assets/Welcome-BQuaoA8Z.js","assets/Privacy-0YLgSlUU.js","assets/Terms-zd3vEp8m.js"])))=>i.map(i=>d[i]);
import{Q as e,p as t,c as r,r as a,j as s,u as i,m as n,M as o,T as l,B as c,S as d,a as u,b as m,H as h,d as g,G as x,C as p,X as f,U as y,e as b,f as j,N as w,_ as v,R as _,g as N,h as k,i as E,k as C}from"./vendor-ChsRwzkX.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const S=new e({defaultOptions:{queries:{staleTime:12e4,gcTime:6e5,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchOnMount:"always",retry:(e,t)=>!(t?.status>=400&&t?.status<500)&&e<3,retryDelay:e=>Math.min(1e3*2**e,3e4)},mutations:{retry:1,onError:e=>{console.error("Mutation error:",e)}}}}),A={persistClient:async e=>{try{const t=JSON.stringify({clientState:e,timestamp:Date.now()});localStorage.setItem("REACT_QUERY_OFFLINE_CACHE",t)}catch(t){console.warn("Failed to persist query cache:",t)}},restoreClient:async()=>{try{const e=localStorage.getItem("REACT_QUERY_OFFLINE_CACHE");if(!e)return;const{clientState:t,timestamp:r}=JSON.parse(e),a=864e5;return Date.now()-r>a?void localStorage.removeItem("REACT_QUERY_OFFLINE_CACHE"):t}catch(e){return console.warn("Failed to restore query cache:",e),void localStorage.removeItem("REACT_QUERY_OFFLINE_CACHE")}},removeClient:async()=>{localStorage.removeItem("REACT_QUERY_OFFLINE_CACHE")}};t({queryClient:S,persister:A,maxAge:864e5,buster:"1.0.0"});const T={userActivity:e=>["userActivity",e],userStats:e=>["userStats",e],recentActivity:e=>["recentActivity",e],categories:()=>["categories"],categoriesWithProgress:e=>["categories","withProgress",e],userProgress:e=>["userProgress",e],questions:(e,t)=>["questions",e,t],quizSession:e=>["quizSession",e]},I={userData:e=>{S.invalidateQueries({queryKey:["userActivity",e]}),S.invalidateQueries({queryKey:["userStats",e]}),S.invalidateQueries({queryKey:["recentActivity",e]}),S.invalidateQueries({queryKey:["userProgress",e]})},categories:()=>{S.invalidateQueries({queryKey:["categories"]})},all:()=>{S.invalidateQueries()}},P="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJrdW93b293bG13cmFuZm9saWVhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyMDA4NTQsImV4cCI6MjA2NTc3Njg1NH0.lNbEJRUEOl3nVtRPNqKsJu4w031DHae5bjOxZIFlSpI",z=r("https://bkuowoowlmwranfoliea.supabase.co",P,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),L=Boolean(P),O=async()=>{if(!L)return{success:!1,message:"Supabase not configured. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in .env.local"};try{const{data:e,error:t}=await z.from("profiles").select("id").limit(1);return t?{success:!1,message:`Connection error: ${t.message}`}:{success:!0,message:"Supabase connected successfully!",data:e}}catch(e){return{success:!1,message:`Connection failed: ${e.message}`}}};class R extends Error{constructor(e){super(e),this.name="AuthError"}}const D={signUp:async(e,t,r)=>{const{data:a,error:s}=await z.auth.signUp({email:e,password:t,options:{data:{full_name:r}}});if(s)throw new R(s.message);if(a.user&&a.user.identities&&0===a.user.identities.length)throw new R("This email is already in use. Please try another email.");return a},signIn:async(e,t)=>{const{data:r,error:a}=await z.auth.signInWithPassword({email:e,password:t});if(a)throw new R(a.message);return r},signOut:async()=>{const{error:e}=await z.auth.signOut();if(e)throw new R(e.message)},resetPassword:async e=>{const{error:t}=await z.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});if(t)throw new R(t.message)},updateProfile:async e=>{const{data:t,error:r}=await z.from("profiles").update(e).eq("id",z.auth.user().id).select().single();if(r)throw new R(r.message);return t}},q=(e,t=null)=>{},U=(e,t=null)=>{t?console.warn(`⚠️ ${e}`,t):console.warn(`⚠️ ${e}`)},V=(e,t=null)=>{t?console.error(`❌ ${e}`,t):console.error(`❌ ${e}`)},F=(e,t=null)=>{},Q=a.createContext(),H=()=>{const e=a.useContext(Q);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},M=({children:e})=>{const[t,r]=a.useState(null),[i,n]=a.useState(!0),[o,l]=a.useState(null);a.useEffect(()=>{(async()=>{if(!L)return console.warn("Supabase not configured. Authentication will not work."),void n(!1);await c();const{data:{subscription:e}}=z.auth.onAuthStateChange(async(e,t)=>{r(t?.user??null),t?.user?await d(t.user.id):l(null),n(!1)})})()},[]);const c=async()=>{try{const{data:{session:e}}=await z.auth.getSession();r(e?.user??null),e?.user&&await d(e.user.id)}catch(e){console.error("Error getting initial session:",e)}finally{n(!1)}},d=async e=>{try{const{data:t,error:r}=await z.from("profiles").select("\n          *,\n          countries (name, flag_emoji),\n          achievement_grades (name, icon_color)\n        ").eq("id",e).maybeSingle();if(r)throw V("[AuthContext] Error in initial profile fetch:",{error:r,userId:e,code:r.code,message:r.message,details:r.details}),r;if(t)F("[AuthContext] Profile found and loaded:",{userId:e,profileId:t.id,email:t.email,hasCountry:!!t.countries,hasGrade:!!t.achievement_grades}),l(t);else{U("[AuthContext] No profile found for user, attempting to create...",e),await u(e),q("[AuthContext] Retrying profile fetch after creation...");const{data:t,error:r}=await z.from("profiles").select("\n            *,\n            countries (name, flag_emoji),\n            achievement_grades (name, icon_color)\n          ").eq("id",e).maybeSingle();if(r)throw V("[AuthContext] Error in retry profile fetch:",{error:r,userId:e,code:r.code,message:r.message}),r;t?F("[AuthContext] Profile successfully created and fetched:",{userId:e,profileId:t.id,email:t.email}):V("[AuthContext] Profile creation appeared to succeed but profile still not found"),l(t)}}catch(t){V("[AuthContext] Critical error in fetchUserProfile:",{error:t,userId:e,errorType:t.constructor.name,stack:t.stack}),l(null)}},u=async e=>{try{q("[AuthContext] Getting authenticated user data...");const{data:{user:t},error:r}=await z.auth.getUser();if(r)throw V("[AuthContext] Error getting authenticated user:",r),r;if(!t){const e=new Error("No authenticated user found");throw V("[AuthContext] No authenticated user:",e),e}F("[AuthContext] Authenticated user found:",{id:t.id,email:t.email,metadata:t.user_metadata}),q("[AuthContext] Attempting to manually trigger profile creation...");const{error:a}=await z.rpc("create_user_profile_manual",{user_id:e,user_email:t.email,user_display_name:t.user_metadata?.display_name||t.email?.split("@")[0]||"User",user_full_name:t.user_metadata?.full_name||t.email?.split("@")[0]||"User"});if(a){U("[AuthContext] RPC function not available, trying direct insert with SECURITY DEFINER context..."),q("[AuthContext] Getting default country...");const{data:r,error:a}=await z.from("countries").select("id").eq("code","US").maybeSingle();a&&V("[AuthContext] Error getting default country:",a),q("[AuthContext] Default country found:",r);const s={id:e,email:t.email,display_name:t.user_metadata?.display_name||t.email?.split("@")[0]||"User",full_name:t.user_metadata?.full_name||t.email?.split("@")[0]||"User",country_id:r?.id||null,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};q("[AuthContext] Attempting profile insert with data:",s);const{error:i}=await z.from("profiles").insert(s);if(i)throw V("[AuthContext] Profile insert failed:",{error:i,code:i.code,message:i.message,details:i.details,hint:i.hint,profileData:s}),i}F("[AuthContext] Profile created successfully for user:",e)}catch(t){throw V("[AuthContext] Critical error creating profile:",{error:t,userId:e,errorType:t.constructor.name,code:t.code,message:t.message,details:t.details,hint:t.hint,stack:t.stack}),t}},m={user:t,profile:o,loading:i,signOut:async()=>{await D.signOut(),r(null),l(null)},refreshProfile:()=>t&&d(t.id),isConfigured:L};return s.jsx(Q.Provider,{value:m,children:e})},W=a.createContext(),J=({children:e})=>{const[t,r]=a.useState(()=>{const e=localStorage.getItem("theme");return e?"dark"===e:window.matchMedia("(prefers-color-scheme: dark)").matches});a.useEffect(()=>{localStorage.setItem("theme",t?"dark":"light"),t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]);return s.jsx(W.Provider,{value:{isDarkMode:t,toggleTheme:()=>{r(e=>!e)}},children:e})};class $ extends a.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.hasError?s.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-lg text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-4",children:"Something went wrong."}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"We're sorry for the inconvenience. Please try again later."}),s.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),className:"bg-blue-600 text-white px-6 py-2 rounded-lg",children:"Try again"})]})}):this.props.children}}const Y=({onSidebarToggle:e,showSidebarToggle:t=!1,isCondensed:r=!1})=>{const m=i(),{isDarkMode:h,toggleTheme:g}=(()=>{const e=a.useContext(W);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e})(),x=e=>{navigator.vibrate&&navigator.vibrate(5),e()};return s.jsx(n.header,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},className:"bg-white/98 dark:bg-gray-900/98 backdrop-blur-xl shadow-sm border-b border-gray-200/30 dark:border-gray-700/30 sticky top-0 z-40 transition-all duration-300 py-2",style:{paddingTop:r?"8px":"max(8px, env(safe-area-inset-top))",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:s.jsx("div",{className:"flex items-center justify-end px-3 w-full "+(r?"max-w-none":"max-w-full"),children:s.jsxs("div",{className:"flex items-center gap-1",children:[t&&s.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-all duration-200",children:s.jsx(o,{size:20,className:"text-gray-600 dark:text-gray-300"})}),s.jsxs(n.div,{whileHover:{scale:1.05},whileTap:{scale:.95},initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"flex items-center gap-1 bg-gradient-to-r from-orange-500 via-orange-600 to-red-500 text-white px-2.5 py-1 rounded-full text-xs font-bold shadow-lg shadow-orange-500/25",children:[s.jsx(n.div,{animate:{rotate:[0,-10,10,-5,5,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:s.jsx(l,{size:12,className:"drop-shadow-sm"})}),s.jsx("span",{className:"tracking-tight",children:"1,250"})]}),s.jsxs(n.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>x(()=>{}),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-all duration-200 relative active:bg-gray-200 dark:active:bg-gray-700",children:[s.jsx(c,{size:16,className:"text-gray-600 dark:text-gray-300",strokeWidth:2}),s.jsx(n.div,{animate:{scale:[1,1.2,1],opacity:[1,.8,1]},transition:{duration:2,repeat:1/0,repeatDelay:1},className:"absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full shadow-sm"})]}),s.jsx(n.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>x(g),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-all duration-200 active:bg-gray-200 dark:active:bg-gray-700",children:s.jsx(n.div,{animate:{rotate:h?180:0},transition:{type:"spring",stiffness:200,damping:15},children:h?s.jsx(d,{size:16,className:"text-yellow-500 drop-shadow-sm",strokeWidth:2}):s.jsx(u,{size:16,className:"text-gray-600 dark:text-gray-300",strokeWidth:2})})}),s.jsxs(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(()=>m("/profile")),className:"relative",children:[s.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden shadow-lg ring-2 ring-white/50 dark:ring-gray-700/50 bg-gradient-to-br from-blue-500 to-purple-600",children:s.jsx("img",{src:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",alt:"Profile",className:"w-full h-full object-cover transition-transform duration-300 hover:scale-110"})}),s.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-green-500 rounded-full border-2 border-white dark:border-gray-900 shadow-sm"})]})]})})})},K=()=>{const e=m(),t=i(),r=[{icon:h,label:"Home",path:"/",color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-500",gradient:"from-blue-500 to-blue-600"},{icon:g,label:"Quiz",path:"/quiz",color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-500",gradient:"from-purple-500 to-purple-600"},{icon:x,label:"Learn",path:"/learn",color:"text-emerald-600 dark:text-emerald-400",bgColor:"bg-emerald-500",gradient:"from-emerald-500 to-emerald-600"},{icon:l,label:"Leaders",path:"/leaderboard",color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-500",gradient:"from-orange-500 to-orange-600"},{icon:p,label:"Stats",path:"/stats",color:"text-green-600 dark:text-green-400",bgColor:"bg-green-500",gradient:"from-green-500 to-green-600"}];return s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md border-t border-gray-200/50 dark:border-gray-700/50 px-1 py-0.5 z-50",children:s.jsx("div",{className:"flex justify-around items-center max-w-md mx-auto",children:r.map(r=>{const a=r.icon,i="/"===(o=r.path)?"/"===e.pathname:e.pathname.startsWith(o);var o;return s.jsxs(n.button,{onClick:()=>t(r.path),className:"relative flex flex-col items-center justify-center px-1.5 py-1 min-w-0 flex-1",whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:17},children:[s.jsx(n.div,{className:"p-1 rounded-md transition-all duration-200",animate:{scale:i?1.05:1,y:i?-1:0},transition:{type:"spring",stiffness:400,damping:17},children:s.jsx(a,{className:`w-4 h-4 transition-colors duration-200 ${i?r.color:"text-gray-500 dark:text-gray-400"}`})}),s.jsx("span",{className:`text-[9px] font-medium mt-0.5 transition-colors duration-200 ${i?r.color:"text-gray-500 dark:text-gray-400"}`,children:r.label})]},r.path)})})})},B=({isOpen:e,onToggle:t,isTablet:r})=>{const a=m(),o=i(),{user:c,profile:d}=H(),u=[{icon:h,label:"Home",path:"/",color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-500",gradient:"from-blue-500 to-blue-600"},{icon:g,label:"Quiz",path:"/quiz",color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-500",gradient:"from-purple-500 to-purple-600"},{icon:x,label:"Learn",path:"/learn",color:"text-emerald-600 dark:text-emerald-400",bgColor:"bg-emerald-500",gradient:"from-emerald-500 to-emerald-600"},{icon:l,label:"Leaderboard",path:"/leaderboard",color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-500",gradient:"from-orange-500 to-orange-600"},{icon:p,label:"Statistics",path:"/stats",color:"text-green-600 dark:text-green-400",bgColor:"bg-green-500",gradient:"from-green-500 to-green-600"}];return c?.user_metadata?.full_name?.split(" ")[0],s.jsxs(n.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"h-full bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl border-r border-gray-200/50 dark:border-gray-700/50 flex flex-col w-full "+(r?"fixed left-0 top-0 z-50 w-72":""),children:[s.jsxs("div",{className:"p-3 border-b border-gray-200/30 dark:border-gray-700/30",children:[s.jsxs(n.div,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:s.jsx(x,{size:20,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"USMLE Trivia"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Study Smart, Score High"})]})]}),r&&s.jsx("button",{onClick:t,className:"absolute top-3 right-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:s.jsx(f,{size:18,className:"text-gray-500 dark:text-gray-400"})})]}),s.jsx("nav",{className:"flex-1 p-3",children:s.jsx("div",{className:"space-y-1",children:u.map(e=>{const t=e.icon,r="/"===(i=e.path)?"/"===a.pathname:a.pathname.startsWith(i);var i;return s.jsxs(n.button,{onClick:()=>o(e.path),className:"w-full flex items-center space-x-2 px-3 py-2.5 rounded-lg transition-all duration-200 group "+(r?"text-gray-900 dark:text-white bg-gray-100/50 dark:bg-gray-800/50":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-200"),whileHover:{scale:1.01},whileTap:{scale:.99},children:[s.jsx("div",{className:"p-1.5 rounded-md transition-all duration-200 "+(r?`${e.color} bg-gray-200 dark:bg-gray-700`:"bg-gray-100 dark:bg-gray-700 group-hover:bg-gray-200 dark:group-hover:bg-gray-600"),children:s.jsx(t,{size:16})}),s.jsx("span",{className:"font-medium text-sm",children:e.label})]},e.path)})})}),s.jsx("div",{className:"p-3 border-t border-gray-200/30 dark:border-gray-700/30",children:s.jsxs(n.button,{onClick:()=>o("/profile"),className:"w-full flex items-center space-x-2 px-3 py-2.5 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-200 transition-all duration-200",whileHover:{scale:1.01},whileTap:{scale:.99},children:[s.jsx("div",{className:"p-1.5 rounded-md bg-gray-100 dark:bg-gray-700",children:s.jsx(y,{size:16})}),s.jsx("span",{className:"font-medium text-sm",children:"Profile"})]})})]})},G=({children:e})=>{const[t,r]=a.useState(!1),[i,o]=a.useState(!0);a.useEffect(()=>{const e=()=>{const e=window.innerWidth<768;o(e),!e&&window.innerWidth>=1024?r(!0):e&&r(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const l=()=>{r(!t)};return s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300",style:{paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:i?s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsx(Y,{}),s.jsx("main",{className:"flex-1 relative",children:s.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.25,.46,.45,.94]},className:"container mx-auto px-3 py-2 max-w-full sm:max-w-screen-sm min-h-full",children:e})}),s.jsx(K,{})]}):s.jsxs("div",{className:"flex min-h-screen w-full overflow-hidden",children:[t&&s.jsx("div",{className:"w-[15%] min-w-[180px] max-w-[200px] flex-shrink-0",children:s.jsx(B,{isOpen:t,onToggle:l,isTablet:window.innerWidth<1024})}),s.jsxs("div",{className:(t?"w-[85%]":"w-full")+" flex flex-col min-h-screen overflow-hidden transition-all duration-300",children:[s.jsx(Y,{onSidebarToggle:l,showSidebarToggle:window.innerWidth<1024,isCondensed:!1}),s.jsx("main",{className:"flex-1 overflow-auto",children:s.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.25,.46,.45,.94]},className:"h-full px-4 py-4",children:s.jsx("div",{className:"max-w-full h-full",children:e})})})]}),t&&window.innerWidth<1024&&s.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:()=>r(!1)})]})})},Z=()=>s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 via-secondary-600 to-purple-700 flex items-center justify-center",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(n.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20,duration:1.2},className:"mb-8",children:s.jsxs("div",{className:"relative mx-auto w-24 h-24 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/30",children:[s.jsx(b,{className:"w-12 h-12 text-white"}),s.jsx("div",{className:"absolute -top-2 -right-2",children:s.jsx("div",{className:"w-6 h-6 bg-accent-400 rounded-full flex items-center justify-center",children:s.jsx(j,{className:"w-3 h-3 text-white"})})})]})}),s.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"mb-4",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"USMLE Trivia"}),s.jsx("p",{className:"text-white/80 text-lg",children:"Master Medicine, One Question at a Time"})]}),s.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"flex flex-wrap justify-center gap-4 mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-2 bg-white/20 rounded-full px-4 py-2 backdrop-blur-sm",children:[s.jsx(g,{className:"w-4 h-4 text-white"}),s.jsx("span",{className:"text-white text-sm font-medium",children:"Study Smart"})]}),s.jsxs("div",{className:"flex items-center space-x-2 bg-white/20 rounded-full px-4 py-2 backdrop-blur-sm",children:[s.jsx(l,{className:"w-4 h-4 text-white"}),s.jsx("span",{className:"text-white text-sm font-medium",children:"Track Progress"})]})]}),s.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:.4},className:"flex justify-center",children:s.jsx("div",{className:"flex space-x-2",children:[0,1,2].map(e=>s.jsx(n.div,{animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:.2*e},className:"w-2 h-2 bg-white rounded-full"},e))})})]}),s.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:s.jsx(n.div,{animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse",ease:"linear"},className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle at 25% 25%, white 2px, transparent 2px),\n                             radial-gradient(circle at 75% 75%, white 2px, transparent 2px)",backgroundSize:"40px 40px"}})})]}),X=({children:e})=>{const{user:t,loading:r}=H(),a=m();if(r)return s.jsx(Z,{});if(!t){return["/login","/welcome","/signup","/forgot-password"].includes(a.pathname)?s.jsx(Z,{}):s.jsx(w,{to:"/welcome",state:{from:a},replace:!0})}return e},ee=()=>s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-expo-950",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),s.jsx("div",{className:"absolute inset-0 w-12 h-12 border-4 border-transparent border-t-blue-400 rounded-full animate-spin opacity-60",style:{animationDelay:"-0.15s"}})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 animate-pulse",children:"Loading..."}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Preparing your USMLE experience"})]})]})}),te=a.lazy(()=>v(()=>import("./Home-_mdaUnBf.js"),__vite__mapDeps([0,1,2,3]))),re=a.lazy(()=>v(()=>import("./QuizTab-BP-rzihR.js"),__vite__mapDeps([4,1,2,3,5]))),ae=a.lazy(()=>v(()=>import("./Profile-CkkiX8vn.js"),__vite__mapDeps([6,1]))),se=a.lazy(()=>v(()=>import("./Leaderboard-AJp4T9c2.js"),__vite__mapDeps([7,1]))),ie=a.lazy(()=>v(()=>import("./Learn-Bic8rdUJ.js"),__vite__mapDeps([8,1]))),ne=a.lazy(()=>v(()=>import("./QuickQuiz-DwdUi1Zh.js"),__vite__mapDeps([9,1,10,3,5]))),oe=a.lazy(()=>v(()=>import("./TimedTest-HjQvV1Dl.js"),__vite__mapDeps([11,1,10,3]))),le=a.lazy(()=>v(()=>import("./Results-D4mkTTQV.js"),__vite__mapDeps([12,1]))),ce=a.lazy(()=>v(()=>import("./CustomQuiz-DxTpGNrS.js"),__vite__mapDeps([13,1]))),de=a.lazy(()=>v(()=>import("./BlockTest-DvgsLtus.js"),__vite__mapDeps([14,1]))),ue=a.lazy(()=>v(()=>import("./Login-DafoVzmx.js"),__vite__mapDeps([15,1]))),me=a.lazy(()=>v(()=>import("./SignUp-BkbxS6YZ.js"),__vite__mapDeps([16,1]))),he=a.lazy(()=>v(()=>import("./ForgotPassword-CcJJDbrS.js"),__vite__mapDeps([17,1]))),ge=a.lazy(()=>v(()=>import("./Welcome-BQuaoA8Z.js"),__vite__mapDeps([18,1]))),xe=a.lazy(()=>v(()=>import("./Privacy-0YLgSlUU.js"),__vite__mapDeps([19,1]))),pe=a.lazy(()=>v(()=>import("./Terms-zd3vEp8m.js"),__vite__mapDeps([20,1])));function fe(){return s.jsx($,{children:s.jsxs(_,{children:[s.jsx(N,{path:"/login",element:s.jsx(a.Suspense,{fallback:s.jsx(Z,{}),children:s.jsx(ue,{})})}),s.jsx(N,{path:"/signup",element:s.jsx(a.Suspense,{fallback:s.jsx(Z,{}),children:s.jsx(me,{})})}),s.jsx(N,{path:"/forgot-password",element:s.jsx(a.Suspense,{fallback:s.jsx(Z,{}),children:s.jsx(he,{})})}),s.jsx(N,{path:"/welcome",element:s.jsx(a.Suspense,{fallback:s.jsx(Z,{}),children:s.jsx(ge,{})})}),s.jsx(N,{path:"/privacy",element:s.jsx(a.Suspense,{fallback:s.jsx(ee,{}),children:s.jsx(xe,{})})}),s.jsx(N,{path:"/terms",element:s.jsx(a.Suspense,{fallback:s.jsx(ee,{}),children:s.jsx(pe,{})})}),s.jsx(N,{path:"/*",element:s.jsx(X,{children:s.jsx(G,{children:s.jsx(a.Suspense,{fallback:s.jsx(ee,{}),children:s.jsxs(_,{children:[s.jsx(N,{path:"/",element:s.jsx(te,{})}),s.jsx(N,{path:"/quiz",element:s.jsx(re,{})}),s.jsx(N,{path:"/quiz/:categoryId",element:s.jsx(ne,{})}),s.jsx(N,{path:"/profile",element:s.jsx(ae,{})}),s.jsx(N,{path:"/leaderboard",element:s.jsx(se,{})}),s.jsx(N,{path:"/learn",element:s.jsx(ie,{})}),s.jsx(N,{path:"/quick-quiz",element:s.jsx(ne,{})}),s.jsx(N,{path:"/timed-test",element:s.jsx(oe,{})}),s.jsx(N,{path:"/custom-quiz",element:s.jsx(ce,{})}),s.jsx(N,{path:"/block-test",element:s.jsx(de,{})}),s.jsx(N,{path:"/results",element:s.jsx(le,{})})]})})})})})]})})}k.createRoot(document.getElementById("root")).render(s.jsx(a.StrictMode,{children:s.jsx(E,{client:S,children:s.jsx(C,{children:s.jsx(M,{children:s.jsxs(J,{children:[s.jsx(fe,{}),!1]})})})})}));export{ee as L,D as a,I as i,T as q,z as s,O as t,H as u};
