const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-CfH44beY.js","assets/vendor-react-BiMcuLH7.js","assets/vendor-Dcu_KtFL.js","assets/QuickQuiz-BLXOyIAE.js","assets/QuizError-BaeSY76C.js","assets/questionService-ObTb5fh1.js","assets/TimedTest-CKHpeEcs.js","assets/QuizTab-rEZOeLxJ.js","assets/Results-CUy5xWky.js","assets/Profile-Dg3EXPac.js","assets/Leaderboard-CpfH9gor.js","assets/Learn-DLJovY6t.js","assets/DatabaseTest-DSXpnZPq.js","assets/Welcome-C0_ppM5W.js","assets/Login-BAeGR-RE.js","assets/SignUp-BH4mW5GA.js","assets/ForgotPassword-Cd9GDiXg.js","assets/Privacy-BD1Wk0MJ.js","assets/Terms-CJy5mVsb.js","assets/IconShowcase-DPw_q6DW.js"])))=>i.map(i=>d[i]);
import{j as e,R as t,r,u as a,M as s,T as i,B as n,S as o,a as l,b as c,H as d,c as u,G as m,C as h,X as g,U as x,d as p,e as y,N as f,f as b,g as j,h as w,i as v,Q as _,k as N}from"./vendor-react-BiMcuLH7.js";import{q as k,t as E,u as T,_ as I}from"./vendor-Dcu_KtFL.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const S=new k({defaultOptions:{queries:{staleTime:3e5,gcTime:18e5,retry:2,refetchOnWindowFocus:!1,refetchOnReconnect:"always",refetchInterval:!1},mutations:{retry:1}}}),C={categories:()=>["categories"],category:e=>["categories",e],questions:()=>["questions"],questionsByCategory:(e,t)=>["questions","category",e,t],questionById:e=>["questions",e],userProgress:(e,t)=>["userProgress",e,t],userStats:e=>["userStats",e],quizSessions:e=>["quizSessions",e],leaderboard:()=>["leaderboard"]},A=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-expo-950",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),e.jsx("div",{className:"absolute inset-0 w-12 h-12 border-4 border-transparent border-t-blue-400 rounded-full animate-spin opacity-60",style:{animationDelay:"-0.15s"}})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 animate-pulse",children:"Loading..."}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Preparing your USMLE experience"})]})]})});class P extends t.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.hasError?e.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-lg text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-4",children:"Something went wrong."}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"We're sorry for the inconvenience. Please try again later."}),e.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),className:"bg-blue-600 text-white px-6 py-2 rounded-lg",children:"Try again"})]})}):this.props.children}}const O="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJrdW93b293bG13cmFuZm9saWVhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyMDA4NTQsImV4cCI6MjA2NTc3Njg1NH0.lNbEJRUEOl3nVtRPNqKsJu4w031DHae5bjOxZIFlSpI",z=E("https://bkuowoowlmwranfoliea.supabase.co",O,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),L=Boolean(O),R=async()=>{if(!L)return{success:!1,message:"Supabase not configured. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in .env.local"};try{const{data:e,error:t}=await z.from("profiles").select("id").limit(1);return t?(console.log("Supabase connection test error:",t.message),{success:!1,message:`Connection error: ${t.message}`}):{success:!0,message:"Supabase connected successfully!",data:e}}catch(e){return console.error("Supabase connection error:",e),{success:!1,message:`Connection failed: ${e.message}`}}};class D extends Error{constructor(e){super(e),this.name="AuthError"}}const U={signUp:async(e,t,r)=>{const{data:a,error:s}=await z.auth.signUp({email:e,password:t,options:{data:{full_name:r}}});if(s)throw new D(s.message);if(a.user&&a.user.identities&&0===a.user.identities.length)throw new D("This email is already in use. Please try another email.");return a},signIn:async(e,t)=>{const{data:r,error:a}=await z.auth.signInWithPassword({email:e,password:t});if(a)throw new D(a.message);return r},signOut:async()=>{const{error:e}=await z.auth.signOut();if(e)throw new D(e.message)},resetPassword:async e=>{const{error:t}=await z.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});if(t)throw new D(t.message)},updateProfile:async e=>{const{data:t,error:r}=await z.from("profiles").update(e).eq("id",z.auth.user().id).select().single();if(r)throw new D(r.message);return t}},Q=r.createContext(),q=()=>{const e=r.useContext(Q);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},V=({children:t})=>{const[a,s]=r.useState(null),[i,n]=r.useState(!0),[o,l]=r.useState(null);r.useEffect(()=>{(async()=>{if(!L)return console.warn("Supabase not configured. Authentication will not work."),void n(!1);await c();const{data:{subscription:e}}=z.auth.onAuthStateChange(async(e,t)=>{s(t?.user??null),t?.user?await d(t.user.id):l(null),n(!1)})})()},[]);const c=async()=>{try{const{data:{session:e}}=await z.auth.getSession();s(e?.user??null),e?.user&&await d(e.user.id)}catch(e){console.error("Error getting initial session:",e)}finally{n(!1)}},d=async e=>{console.log("🔍 [AuthContext] Fetching user profile for ID:",e);try{const{data:t,error:r}=await z.from("profiles").select("\n          *,\n          countries (name, flag_emoji),\n          achievement_grades (name, icon_color)\n        ").eq("id",e).maybeSingle();if(r)throw console.error("❌ [AuthContext] Error in initial profile fetch:",{error:r,userId:e,code:r.code,message:r.message,details:r.details}),r;if(t)console.log("✅ [AuthContext] Profile found and loaded:",{userId:e,profileId:t.id,email:t.email,hasCountry:!!t.countries,hasGrade:!!t.achievement_grades}),l(t);else{console.warn("⚠️ [AuthContext] No profile found for user, attempting to create...",e),await u(e),console.log("🔄 [AuthContext] Retrying profile fetch after creation...");const{data:t,error:r}=await z.from("profiles").select("\n            *,\n            countries (name, flag_emoji),\n            achievement_grades (name, icon_color)\n          ").eq("id",e).maybeSingle();if(r)throw console.error("❌ [AuthContext] Error in retry profile fetch:",{error:r,userId:e,code:r.code,message:r.message}),r;t?console.log("✅ [AuthContext] Profile successfully created and fetched:",{userId:e,profileId:t.id,email:t.email}):console.error("❌ [AuthContext] Profile creation appeared to succeed but profile still not found"),l(t)}}catch(t){console.error("❌ [AuthContext] Critical error in fetchUserProfile:",{error:t,userId:e,errorType:t.constructor.name,stack:t.stack}),l(null)}},u=async e=>{console.log("🏗️ [AuthContext] Creating user profile for:",e);try{console.log("🔐 [AuthContext] Getting authenticated user data...");const{data:{user:t},error:r}=await z.auth.getUser();if(r)throw console.error("❌ [AuthContext] Error getting authenticated user:",r),r;if(!t){const e=new Error("No authenticated user found");throw console.error("❌ [AuthContext] No authenticated user:",e),e}console.log("✅ [AuthContext] Authenticated user found:",{id:t.id,email:t.email,metadata:t.user_metadata}),console.log("🔧 [AuthContext] Attempting to manually trigger profile creation...");const{error:a}=await z.rpc("create_user_profile_manual",{user_id:e,user_email:t.email,user_display_name:t.user_metadata?.display_name||t.email?.split("@")[0]||"User",user_full_name:t.user_metadata?.full_name||t.email?.split("@")[0]||"User"});if(a){console.warn("⚠️ [AuthContext] RPC function not available, trying direct insert with SECURITY DEFINER context..."),console.log("🌍 [AuthContext] Getting default country...");const{data:r,error:a}=await z.from("countries").select("id").eq("code","US").maybeSingle();a&&console.error("❌ [AuthContext] Error getting default country:",a),console.log("🏠 [AuthContext] Default country found:",r);const s={id:e,email:t.email,display_name:t.user_metadata?.display_name||t.email?.split("@")[0]||"User",full_name:t.user_metadata?.full_name||t.email?.split("@")[0]||"User",country_id:r?.id||null,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};console.log("📝 [AuthContext] Attempting profile insert with data:",s);const{error:i}=await z.from("profiles").insert(s);if(i)throw console.error("❌ [AuthContext] Profile insert failed:",{error:i,code:i.code,message:i.message,details:i.details,hint:i.hint,profileData:s}),i}console.log("✅ [AuthContext] Profile created successfully for user:",e)}catch(t){throw console.error("❌ [AuthContext] Critical error creating profile:",{error:t,userId:e,errorType:t.constructor.name,code:t.code,message:t.message,details:t.details,hint:t.hint,stack:t.stack}),t}},m={user:a,profile:o,loading:i,signOut:async()=>{await U.signOut(),s(null),l(null)},refreshProfile:()=>a&&d(a.id),isConfigured:L};return e.jsx(Q.Provider,{value:m,children:t})},W=r.createContext(),M=({children:t})=>{const[a,s]=r.useState(()=>{const e=localStorage.getItem("theme");return e?"dark"===e:window.matchMedia("(prefers-color-scheme: dark)").matches});r.useEffect(()=>{localStorage.setItem("theme",a?"dark":"light"),a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[a]);return e.jsx(W.Provider,{value:{isDarkMode:a,toggleTheme:()=>{s(e=>!e)}},children:t})},H=r.createContext(null),Z={questions:[],currentQuestionIndex:0,answers:{},score:0,isComplete:!1,loading:!1,error:null,startTime:null,endTime:null,category:null};function F(e,t){switch(t.type){case"START_QUIZ":return{...Z,questions:t.payload.questions,category:t.payload.category,startTime:new Date,loading:!1};case"ANSWER_QUESTION":return{...e,answers:{...e.answers,[e.currentQuestionIndex]:t.payload}};case"NEXT_QUESTION":return{...e,currentQuestionIndex:e.currentQuestionIndex+1};case"COMPLETE_QUIZ":return{...e,isComplete:!0,endTime:new Date,score:t.payload.score};case"RESET_QUIZ":return Z;case"SET_LOADING":return{...e,loading:t.payload};case"SET_ERROR":return{...e,error:t.payload,loading:!1};default:return e}}function J({children:t}){const[a,s]=r.useReducer(F,Z),i={startQuiz:(e,t)=>{s({type:"START_QUIZ",payload:{questions:e,category:t}})},answerQuestion:e=>{s({type:"ANSWER_QUESTION",payload:e})},nextQuestion:()=>{s({type:"NEXT_QUESTION"})},completeQuiz:e=>{s({type:"COMPLETE_QUIZ",payload:{score:e}})},resetQuiz:()=>{s({type:"RESET_QUIZ"})},setLoading:e=>{s({type:"SET_LOADING",payload:e})},setError:e=>{s({type:"SET_ERROR",payload:e})}};return e.jsx(H.Provider,{value:{...a,...i},children:t})}const B=({onSidebarToggle:t,showSidebarToggle:c=!1,isCondensed:d=!1})=>{const u=a(),{isDarkMode:m,toggleTheme:h}=(()=>{const e=r.useContext(W);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e})(),g=e=>{navigator.vibrate&&navigator.vibrate(5),e()};return e.jsx(T.header,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},className:"bg-white/98 dark:bg-gray-900/98 backdrop-blur-xl shadow-sm border-b border-gray-200/30 dark:border-gray-700/30 sticky top-0 z-40 transition-all duration-300 py-2",style:{paddingTop:d?"8px":"max(8px, env(safe-area-inset-top))",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:e.jsx("div",{className:"flex items-center justify-end px-3 w-full "+(d?"max-w-none":"max-w-full"),children:e.jsxs("div",{className:"flex items-center gap-1",children:[c&&e.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-all duration-200",children:e.jsx(s,{size:20,className:"text-gray-600 dark:text-gray-300"})}),e.jsxs(T.div,{whileHover:{scale:1.05},whileTap:{scale:.95},initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"flex items-center gap-1 bg-gradient-to-r from-orange-500 via-orange-600 to-red-500 text-white px-2.5 py-1 rounded-full text-xs font-bold shadow-lg shadow-orange-500/25",children:[e.jsx(T.div,{animate:{rotate:[0,-10,10,-5,5,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:e.jsx(i,{size:12,className:"drop-shadow-sm"})}),e.jsx("span",{className:"tracking-tight",children:"1,250"})]}),e.jsxs(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>g(()=>console.log("Notifications clicked")),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-all duration-200 relative active:bg-gray-200 dark:active:bg-gray-700",children:[e.jsx(n,{size:16,className:"text-gray-600 dark:text-gray-300",strokeWidth:2}),e.jsx(T.div,{animate:{scale:[1,1.2,1],opacity:[1,.8,1]},transition:{duration:2,repeat:1/0,repeatDelay:1},className:"absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full shadow-sm"})]}),e.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>g(h),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-all duration-200 active:bg-gray-200 dark:active:bg-gray-700",children:e.jsx(T.div,{animate:{rotate:m?180:0},transition:{type:"spring",stiffness:200,damping:15},children:m?e.jsx(o,{size:16,className:"text-yellow-500 drop-shadow-sm",strokeWidth:2}):e.jsx(l,{size:16,className:"text-gray-600 dark:text-gray-300",strokeWidth:2})})}),e.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>g(()=>u("/profile")),className:"relative",children:[e.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden shadow-lg ring-2 ring-white/50 dark:ring-gray-700/50 bg-gradient-to-br from-blue-500 to-purple-600",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",alt:"Profile",className:"w-full h-full object-cover transition-transform duration-300 hover:scale-110"})}),e.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-green-500 rounded-full border-2 border-white dark:border-gray-900 shadow-sm"})]})]})})})},G=()=>{const t=c(),r=a(),s=[{icon:d,label:"Home",path:"/",color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-500",gradient:"from-blue-500 to-blue-600"},{icon:u,label:"Quiz",path:"/categories",color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-500",gradient:"from-purple-500 to-purple-600"},{icon:m,label:"Learn",path:"/learn",color:"text-emerald-600 dark:text-emerald-400",bgColor:"bg-emerald-500",gradient:"from-emerald-500 to-emerald-600"},{icon:i,label:"Leaders",path:"/leaderboard",color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-500",gradient:"from-orange-500 to-orange-600"},{icon:h,label:"Stats",path:"/stats",color:"text-green-600 dark:text-green-400",bgColor:"bg-green-500",gradient:"from-green-500 to-green-600"}];return e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md border-t border-gray-200/50 dark:border-gray-700/50 px-1 py-0.5 z-50",children:e.jsx("div",{className:"flex justify-around items-center max-w-md mx-auto",children:s.map(a=>{const s=a.icon,i="/"===(n=a.path)?"/"===t.pathname:t.pathname.startsWith(n);var n;return e.jsxs(T.button,{onClick:()=>r(a.path),className:"relative flex flex-col items-center justify-center px-1.5 py-1 min-w-0 flex-1",whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:17},children:[e.jsx(T.div,{className:"p-1 rounded-md transition-all duration-200",animate:{scale:i?1.05:1,y:i?-1:0},transition:{type:"spring",stiffness:400,damping:17},children:e.jsx(s,{className:`w-4 h-4 transition-colors duration-200 ${i?a.color:"text-gray-500 dark:text-gray-400"}`})}),e.jsx("span",{className:`text-[9px] font-medium mt-0.5 transition-colors duration-200 ${i?a.color:"text-gray-500 dark:text-gray-400"}`,children:a.label})]},a.path)})})})},$=({isOpen:t,onToggle:r,isTablet:s})=>{const n=c(),o=a(),{user:l,profile:p}=q(),y=[{icon:d,label:"Home",path:"/",color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-500",gradient:"from-blue-500 to-blue-600"},{icon:u,label:"Quiz",path:"/categories",color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-500",gradient:"from-purple-500 to-purple-600"},{icon:m,label:"Learn",path:"/learn",color:"text-emerald-600 dark:text-emerald-400",bgColor:"bg-emerald-500",gradient:"from-emerald-500 to-emerald-600"},{icon:i,label:"Leaderboard",path:"/leaderboard",color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-500",gradient:"from-orange-500 to-orange-600"},{icon:h,label:"Statistics",path:"/stats",color:"text-green-600 dark:text-green-400",bgColor:"bg-green-500",gradient:"from-green-500 to-green-600"}];return l?.user_metadata?.full_name?.split(" ")[0],e.jsxs(T.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"h-full bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl border-r border-gray-200/50 dark:border-gray-700/50 flex flex-col w-full "+(s?"fixed left-0 top-0 z-50 w-72":""),children:[e.jsxs("div",{className:"p-3 border-b border-gray-200/30 dark:border-gray-700/30",children:[e.jsxs(T.div,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:e.jsx(m,{size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"USMLE Trivia"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Study Smart, Score High"})]})]}),s&&e.jsx("button",{onClick:r,className:"absolute top-3 right-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:e.jsx(g,{size:18,className:"text-gray-500 dark:text-gray-400"})})]}),e.jsx("nav",{className:"flex-1 p-3",children:e.jsx("div",{className:"space-y-1",children:y.map(t=>{const r=t.icon,a="/"===(s=t.path)?"/"===n.pathname:n.pathname.startsWith(s);var s;return e.jsxs(T.button,{onClick:()=>o(t.path),className:"w-full flex items-center space-x-2 px-3 py-2.5 rounded-lg transition-all duration-200 group "+(a?"text-gray-900 dark:text-white bg-gray-100/50 dark:bg-gray-800/50":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-200"),whileHover:{scale:1.01},whileTap:{scale:.99},children:[e.jsx("div",{className:"p-1.5 rounded-md transition-all duration-200 "+(a?`${t.color} bg-gray-200 dark:bg-gray-700`:"bg-gray-100 dark:bg-gray-700 group-hover:bg-gray-200 dark:group-hover:bg-gray-600"),children:e.jsx(r,{size:16})}),e.jsx("span",{className:"font-medium text-sm",children:t.label})]},t.path)})})}),e.jsx("div",{className:"p-3 border-t border-gray-200/30 dark:border-gray-700/30",children:e.jsxs(T.button,{onClick:()=>o("/profile"),className:"w-full flex items-center space-x-2 px-3 py-2.5 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-200 transition-all duration-200",whileHover:{scale:1.01},whileTap:{scale:.99},children:[e.jsx("div",{className:"p-1.5 rounded-md bg-gray-100 dark:bg-gray-700",children:e.jsx(x,{size:16})}),e.jsx("span",{className:"font-medium text-sm",children:"Profile"})]})})]})},X=({children:t})=>{const[a,s]=r.useState(!1),[i,n]=r.useState(!0);r.useEffect(()=>{const e=()=>{const e=window.innerWidth<768;n(e),!e&&window.innerWidth>=1024?s(!0):e&&s(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const o=()=>{s(!a)};return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300",style:{paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:i?e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(B,{}),e.jsx("main",{className:"flex-1 relative",children:e.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.25,.46,.45,.94]},className:"container mx-auto px-3 py-2 max-w-full sm:max-w-screen-sm min-h-full",children:t})}),e.jsx(G,{})]}):e.jsxs("div",{className:"flex min-h-screen w-full overflow-hidden",children:[a&&e.jsx("div",{className:"w-[15%] min-w-[180px] max-w-[200px] flex-shrink-0",children:e.jsx($,{isOpen:a,onToggle:o,isTablet:window.innerWidth<1024})}),e.jsxs("div",{className:(a?"w-[85%]":"w-full")+" flex flex-col min-h-screen overflow-hidden transition-all duration-300",children:[e.jsx(B,{onSidebarToggle:o,showSidebarToggle:window.innerWidth<1024,isCondensed:!1}),e.jsx("main",{className:"flex-1 overflow-auto",children:e.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.25,.46,.45,.94]},className:"h-full px-4 py-4",children:e.jsx("div",{className:"max-w-full h-full",children:t})})})]}),a&&window.innerWidth<1024&&e.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:()=>s(!1)})]})})},Y=()=>e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 via-secondary-600 to-purple-700 flex items-center justify-center",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(T.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20,duration:1.2},className:"mb-8",children:e.jsxs("div",{className:"relative mx-auto w-24 h-24 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/30",children:[e.jsx(p,{className:"w-12 h-12 text-white"}),e.jsx("div",{className:"absolute -top-2 -right-2",children:e.jsx("div",{className:"w-6 h-6 bg-accent-400 rounded-full flex items-center justify-center",children:e.jsx(y,{className:"w-3 h-3 text-white"})})})]})}),e.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"mb-4",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"USMLE Trivia"}),e.jsx("p",{className:"text-white/80 text-lg",children:"Master Medicine, One Question at a Time"})]}),e.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"flex flex-wrap justify-center gap-4 mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-white/20 rounded-full px-4 py-2 backdrop-blur-sm",children:[e.jsx(u,{className:"w-4 h-4 text-white"}),e.jsx("span",{className:"text-white text-sm font-medium",children:"Study Smart"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-white/20 rounded-full px-4 py-2 backdrop-blur-sm",children:[e.jsx(i,{className:"w-4 h-4 text-white"}),e.jsx("span",{className:"text-white text-sm font-medium",children:"Track Progress"})]})]}),e.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:.4},className:"flex justify-center",children:e.jsx("div",{className:"flex space-x-2",children:[0,1,2].map(t=>e.jsx(T.div,{animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:.2*t},className:"w-2 h-2 bg-white rounded-full"},t))})})]}),e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:e.jsx(T.div,{animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse",ease:"linear"},className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle at 25% 25%, white 2px, transparent 2px),\n                             radial-gradient(circle at 75% 75%, white 2px, transparent 2px)",backgroundSize:"40px 40px"}})})]}),K=({children:t})=>{const{user:r,loading:a}=q(),s=c();return a?e.jsx(Y,{}):r?t:e.jsx(f,{to:"/auth/welcome",state:{from:s},replace:!0})},ee=r.lazy(()=>I(()=>import("./Home-CfH44beY.js"),__vite__mapDeps([0,1,2]))),te=r.lazy(()=>I(()=>import("./QuickQuiz-BLXOyIAE.js"),__vite__mapDeps([3,1,2,4,5]))),re=r.lazy(()=>I(()=>import("./TimedTest-CKHpeEcs.js"),__vite__mapDeps([6,1,2,4,5]))),ae=r.lazy(()=>I(()=>import("./QuizTab-rEZOeLxJ.js"),__vite__mapDeps([7,1,2,5]))),se=r.lazy(()=>I(()=>import("./Results-CUy5xWky.js"),__vite__mapDeps([8,1,2]))),ie=r.lazy(()=>I(()=>import("./Profile-Dg3EXPac.js"),__vite__mapDeps([9,1,2]))),ne=r.lazy(()=>I(()=>import("./Leaderboard-CpfH9gor.js"),__vite__mapDeps([10,1,2]))),oe=r.lazy(()=>I(()=>import("./Learn-DLJovY6t.js"),__vite__mapDeps([11,1,2]))),le=r.lazy(()=>I(()=>import("./DatabaseTest-DSXpnZPq.js"),__vite__mapDeps([12,1,2]))),ce=r.lazy(()=>I(()=>import("./Welcome-C0_ppM5W.js"),__vite__mapDeps([13,1,2]))),de=r.lazy(()=>I(()=>import("./Login-BAeGR-RE.js"),__vite__mapDeps([14,1,2]))),ue=r.lazy(()=>I(()=>import("./SignUp-BH4mW5GA.js"),__vite__mapDeps([15,1,2]))),me=r.lazy(()=>I(()=>import("./ForgotPassword-Cd9GDiXg.js"),__vite__mapDeps([16,1,2]))),he=r.lazy(()=>I(()=>import("./Privacy-BD1Wk0MJ.js"),__vite__mapDeps([17,1,2]))),ge=r.lazy(()=>I(()=>import("./Terms-CJy5mVsb.js"),__vite__mapDeps([18,1,2]))),xe=r.lazy(()=>I(()=>import("./IconShowcase-DPw_q6DW.js"),__vite__mapDeps([19,1,2])));function pe(){return e.jsx(P,{children:e.jsx(V,{children:e.jsx(M,{children:e.jsx(b,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-expo-950 scrollbar-hide",children:e.jsx(r.Suspense,{fallback:e.jsx(A,{}),children:e.jsxs(j,{children:[e.jsx(w,{path:"/auth/welcome",element:e.jsx(ce,{})}),e.jsx(w,{path:"/auth/login",element:e.jsx(de,{})}),e.jsx(w,{path:"/auth/signup",element:e.jsx(ue,{})}),e.jsx(w,{path:"/auth/forgot-password",element:e.jsx(me,{})}),e.jsx(w,{path:"/terms",element:e.jsx(ge,{})}),e.jsx(w,{path:"/privacy",element:e.jsx(he,{})}),e.jsx(w,{path:"/*",element:e.jsx(K,{children:e.jsx(X,{children:e.jsxs(j,{children:[e.jsx(w,{path:"/",element:e.jsx(ee,{})}),e.jsx(w,{path:"/categories",element:e.jsx(ae,{})}),e.jsx(w,{path:"/quick-quiz",element:e.jsx(P,{children:e.jsx(J,{children:e.jsx(te,{})})})}),e.jsx(w,{path:"/timed-test",element:e.jsx(P,{children:e.jsx(J,{children:e.jsx(re,{})})})}),e.jsx(w,{path:"/quiz/:categoryId",element:e.jsx(P,{children:e.jsx(J,{children:e.jsx(te,{})})})}),e.jsx(w,{path:"/quiz",element:e.jsx(P,{children:e.jsx(J,{children:e.jsx(te,{})})})}),e.jsx(w,{path:"/results",element:e.jsx(se,{})}),e.jsx(w,{path:"/profile",element:e.jsx(ie,{})}),e.jsx(w,{path:"/learn",element:e.jsx(oe,{})}),e.jsx(w,{path:"/stats",element:e.jsx("div",{className:"p-6 text-center text-gray-600 dark:text-gray-300",children:"Stats page coming soon!"})}),e.jsx(w,{path:"/leaderboard",element:e.jsx(ne,{})}),e.jsx(w,{path:"/database-test",element:e.jsx(le,{})}),e.jsx(w,{path:"/icons",element:e.jsx(xe,{})})]})})})}),e.jsx(w,{path:"*",element:e.jsx(f,{to:"/auth/welcome",replace:!0})})]})})})})})})})}v.createRoot(document.getElementById("root")).render(e.jsx(t.StrictMode,{children:e.jsxs(_,{client:S,children:[e.jsx(pe,{}),e.jsx(N,{initialIsOpen:!1})]})}));export{U as a,C as q,z as s,R as t,q as u};
